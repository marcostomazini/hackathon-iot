<!-- Inline template with sidebar items markup and ng-directives-->
<script type="text/ng-template" id="sidebar-renderer.html">
  <span ng-if="item.heading">{{(item.translate | translate) || item.title}}</span>
  <a href="/#!/{{item.link}}" title="{{item.title}}">
    <em ng-hide="inSubmenu" class="{{item.iconClass}}"></em>
    <div ng-if="item.alert" ng-class="item.label || 'label label-success'" class="pull-right">{{item.alert}}</div>
    <span>{{(item.translate | translate) || item.title}}</span>
  </a>
  <ul ng-if="item.items.length" 
      collapse="isCollapse(pIndex)" 
      ng-init="addCollapse(pIndex, item)" 
      ng-click="$event.stopPropagation();" 
      class="nav sidebar-subnav">
        <li class="sidebar-subnav-header">{{(item.translate | translate) || item.title}}</li>
        <li ng-repeat="item in item.items | orderBy: 'position'" 
            ng-include="'sidebar-renderer.html'" 
            ng-class="{active: ($uiRoute)}"
            ng-init="pIndex=(pIndex+'-'+$index); inSubmenu = true;"
            ng-click="toggleCollapse(pIndex)"
            data-ng-if="item.shouldRender(authentication.user);"
            ui-route="{{item.uiRoute}}"></li>
  </ul>
</script>
<!-- START Sidebar (left)-->
<div class="aside-inner">
   <nav sidebar="" class="sidebar">
      <!-- START sidebar nav-->
      <ul class="nav">

        <!-- START user info-->
         <li class="has-user-block">
            <div collapse="userBlockVisible">
               <div class="item user-block">
                  <!-- User picture-->
                  <div class="user-block-picture" ng-click="openProfile()">
                     <div class="user-block-status">
                        <img ng-src="{{authentication.user.picture}}"
                            ng-show="authentication.user.picture"
                            alt="Avatar" 
                            width="60" 
                            height="60" 
                            class="img-thumbnail img-circle" />

                        <em class="text-white icon-user fa-3x img-circle "
                            ng-show="!authentication.user.picture">
                        </em>

                        <div class="circle circle-success circle-lg"></div>
                     </div>
                  </div>
                  <!-- Name and Job-->
                  <div class="user-block-info">
                     <span class="user-block-name">{{authentication.user.name}}</span>
                     <span class="user-block-role">{{authentication.user.empresa.name}}</span>
                  </div>
               </div>
            </div>
         </li>

         <li ng-class="{active: ($uiRoute)}" 
             ng-repeat="item in menu.items | orderBy: 'position'" 
             ng-include="'sidebar-renderer.html'" 
             data-ng-if="item.shouldRender(authentication.user);"
             ui-route="{{item.uiRoute}}"
             ng-init="pIndex = $index;"
             ng-click="toggleCollapse(pIndex, true)">
         </li>
      </ul>
      <!-- END sidebar nav-->
   </nav>
</div>
<!-- END Sidebar (left)-->